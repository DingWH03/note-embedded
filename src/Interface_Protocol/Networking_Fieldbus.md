# 网络与现场总线（Networking/Fieldbus）

网络与现场总线的核心目的，是把控制器、远端 I/O、传感器与执行器在**米级到千米级**范围内可靠联结起来，为**周期性控制与事件驱动通信**提供可预见的带宽、延迟与抖动，同时抵御工业与车载环境中的噪声、震动、温漂与电磁干扰。相较于板级外设与存储/主机接口，这一类更强调**多节点协同、确定性与可维护性**，承担系统的“**控制域数据平面**”与“**设备管理面**”。

这类网络通常运行在**受控拓扑**上：星形、线形/总线、环形或树形级联；节点数从少量设备到整条产线/整车域都可扩展。通信模型既支持**周期性循环 I/O**（把输入采样与输出刷新锁定在固定节拍内），也支持**非周期参数/诊断**（配置、告警、日志）。为了在规模化下仍然可预期，系统会引入**地址与命名、时间同步、调度与整形、优先级与流控**等机制，把关键流量与背景流量隔离开来。

**确定性**是关键词。典型做法是通过**网络对时**（硬件时间戳、基准时钟分发）与**调度/整形**（时间窗、信用/令牌、守门器）来收紧端到端抖动；对闭环控制，还会限定**最坏情况传输时延**与**迟到/丢帧处置策略**，以确保控制周期不被拖长。与此相配合，交换/转发设备提供**排队与整形队列**、入/出端口**速率限制**与**拥塞标记**，在高负载下维持可用性与公平性。

电气层面更注重**差分传输、屏蔽与隔离**。从单对双绞线到多对铜缆、到光纤与无线回传，链路选择取决于距离、带宽与工况；常见的**磁隔离/数字隔离**与**接地/屏蔽端接**策略可抑制共模干扰与地环路；在某些应用中，**数据线上叠加供电**降低布线复杂度。对长距离与线束复杂场景，链路会采用**自适应均衡、预加重、纠错与重传**以维持误码率。

可靠性与安全性方面，网络通常提供**冗余路径与快速收敛**（环网保护、双归属、故障切换）以抵御单点失效；在设备层引入**健康监测与自检**（链路质量、迟到/重传统计、温度/电源告警）以便预测性维护。面向功能安全的场合，会在通用通信之上叠加**安全层**（黑通道思路、序列/超时/端到端校验），以满足系统级安全完整性等级目标。对信息安全，则通过**设备身份、访问控制、分区与加密**保护控制域不被越权访问。

软件集成强调**可预期与可运维**：实时系统/PLC/域控制器对周期任务进行**固定节拍调度**，I/O 映射与过程数据通过**共享内存/零拷贝**进出应用；非周期流量走**低优先级通道**避免打断关键循环。工程部署依赖**设备描述/对象模型**实现即插即用与跨厂商互操作；调试与运维使用**抓包/时延与抖动测量、拓扑发现、链路健康仪表板**定位瓶颈与隐患，并以**版本/参数基线**管理变更。

从演进路径看，现场总线正向**以太网化与融合化**发展：一方面把确定性机制引入通用网络，实现**控制流与数据流并存**；另一方面通过**网关/边缘节点**把历史遗留总线整合到统一的管理与数据平台。取舍的本质，仍是在**确定性、带宽、距离、供电、EMC、成本与可维护性**之间达成平衡：既要让关键控制链路“**准时**且**不中断**”，也要让整网在扩展、升级与运维上保持“**可管**且**可演进**”。

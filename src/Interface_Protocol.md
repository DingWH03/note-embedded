# 接口协议

## 1. 板级串行外设（Peripheral Buses）

| 协议         | 物理/电平           |          典型速率 |   距离(板内/线缆) | 拓扑      | 同步 | 校验/纠错    | 常见用途            |
| ---------- | --------------- | ------------: | ----------: | ------- | -- | -------- | --------------- |
| I²C        | 开漏 + 上拉（3.3/5V） |  100k \~ 3.4M |    <0.5–1 m | 多主多从总线  | 同步 | ACK/NACK | 低速传感器/EEPROM    |
| I³C        | 推挽/开漏混合         |        ≤12.5M |      <0.5 m | 多主      | 同步 | CRC（可选）  | 传感网络/PMIC       |
| SPI        | 单端              |       10–50M+ |          板内 | 主从、片选扇出 | 同步 | 无内建      | 高速外设/ADC/DAC    |
| QSPI/OSPI  | SPI x4/x8       |    数十–数百 Mbps |          板内 | 主从      | 同步 | 无内建      | NOR Flash/XIP   |
| UART (TTL) | 单端              |      9.6k–1M+ |      <3–5 m | 点到点     | 异步 | 奇偶（可选）   | 调试/日志           |
| RS‑485     | 差分              |          ≤10M | ≤1200 m（低速） | 多点总线    | 异步 | 上层CRC    | 工业现场/Modbus RTU |
| 1‑Wire     | 单线              |     \~16 kbps |      <2–5 m | 总线      | 时序 | CRC      | ID/简单传感         |
| I²S/TDM    | 单端              |     几M–十几Mbps |          板内 | 主从      | 同步 | 无内建      | 音频流             |
| PDM        | 单端              | \~1–3 Mbps/声道 |          板内 | 点到点     | 同步 | 无内建      | 数字麦克风           |
| SPMI       | MIPI 电源管理       |      ≤26 Mbps |          板内 | 多主多从    | 同步 | CRC      | PMIC 控制         |

## 2. 显示与图像接口（Display/Camera）

| 协议            | 物理          |      速率级别 |        距离 | 拓扑      | 用途        |
| ------------- | ----------- | --------: | --------: | ------- | --------- |
| MIPI DSI      | D‑PHY/C‑PHY |   Gbps/通道 | <20–30 cm | 点到点     | 面板输出      |
| MIPI CSI‑2    | D‑PHY/C‑PHY |   Gbps/通道 | <20–30 cm | 点到点     | 摄像头输入     |
| LVDS/FPD‑Link | 差分          | 数百 Mbps/对 |        米级 | 点到点/菊花链 | 显示/摄像传输   |
| eDP/DP        | 差分          |     Gbps级 |        米级 | 点到点     | 高分显示      |
| HDMI          | TMDS 差分     |     Gbps级 |        数米 | 点到点     | 显示+音频     |
| 并行 RGB/DVP    | 多根单端        |   由像素时钟决定 | <10–20 cm | 点到点     | 低分辨率显示/摄像 |

## 3. 存储与主机接口（Storage/Host）

### 3.1 非易失/卡类

| 协议               | 介质        |        典型吞吐 | 关键特性                    |
| ---------------- | --------- | ----------: | ----------------------- |
| QSPI/OSPI        | NOR Flash | 数十\~数百 Mbps | 启动/代码执行(XIP)、时序严谨       |
| eMMC (HS400)     | eMMC 芯片   |  \~400 MB/s | 成熟、易用、单芯片               |
| SD/SDIO (SDR104) | SD 卡/外设   |  \~104 MB/s | 热插拔；SDIO 常接 Wi‑Fi/BT 模块 |
| UFS (3.x/4.x)    | UFS 芯片    |     1+ GB/s | 并行队列、低延迟                |
| SATA (III)       | SSD/HDD   |  \~600 MB/s | 工业 PC/老平台兼容             |

### 3.2 高速互联

| 协议               | 物理 |                    线速 | 典型用途             |
| ---------------- | -- | --------------------: | ---------------- |
| USB 2.0/3.x/USB4 | 差分 | 480 Mbps / 5–20+ Gbps | 外设、供电、Type‑C 生态  |
| PCIe (Gen1–5)    | 差分 |      2.5–32 GT/s/lane | NVMe/加速卡/FPGA 互联 |
| DDR/LPDDR        | 混合 |            数 Gbps/bit | DRAM 内存接口        |

## 4. 网络与现场总线（Networking/Fieldbus）

### 4.1 以太网与 TSN

| 技术                              |      速率 |          距离 | 拓扑     | 实时性        | 备注           |
| ------------------------------- | ------: | ----------: | ------ | ---------- | ------------ |
| Ethernet (10M/100M/1G/2.5G/10G) | 10M–10G |    100 m(铜) | 星/交换   | 非确定        | FCS 校验、交换机转发 |
| SPE 10BASE‑T1S/T1L              | 10 Mbps | 25 m / 1 km | 多点/点到点 | 可确定(配 TSN) | 单对线、可叠加供电    |
| 100/1000BASE‑T1                 | 100M/1G |     15–40 m | 点到点    | 配 TSN      | 车载骨干         |
| TSN (802.1AS/Qbv/等)             |       — |           — | —      | **确定性**    | 时间同步/时隙调度    |

### 4.2 汽车/工业总线

| 协议                         | 物理  |      速率 |       距离 | 拓扑   | 实时性     | 用途       |
| -------------------------- | --- | ------: | -------: | ---- | ------- | -------- |
| CAN 2.0 / FD               | 差分  | 1M / 数M | 数十\~数百 m | 总线   | 软实时     | 车身/工业控制  |
| LIN                        | 单端  | 20 kbps |   \~40 m | 一主多从 | 松实时     | 低成本节点    |
| FlexRay                    | 差分  | 10 Mbps |   \~24 m | 星/总线 | **硬实时** | 线控底盘     |
| 工业以太网（EtherCAT/PROFINET 等） | 以太网 |  子 ms 级 |      网段级 | 星/线形 | 硬/确定    | 运动控制/PLC |

## 5. 无线连接（Wireless）

| 技术               | 频段          | 速率级别            | 覆盖      | 拓扑         | 功耗  | 典型用途          |
| ---------------- | ----------- | --------------- | ------- | ---------- | --- | ------------- |
| Wi‑Fi 4/5/6/7    | 2.4/5/6 GHz | 10^2 Mbps–Gbps  | 室内几十米   | 星/mesh     | 中   | 视频/高速数据       |
| Bluetooth LE 5.x | 2.4 GHz     | 125 kbps–2 Mbps | 10–30 m | 星/BLE Mesh | 低   | 外设/穿戴/音频      |
| Zigbee/Thread    | 2.4 GHz     | \~250 kbps      | 室内      | Mesh       | 低   | 传感/照明（Matter） |
| LoRaWAN          | Sub‑GHz     | 0.3–50 kbps     | 千米级     | 星(网关)      | 极低  | 远距低速          |
| UWB              | 6–8 GHz     | 低速              | 10–30 m | 点到点/星      | 低   | 精准测距          |
| NFC              | 13.56 MHz   | ≤424 kbps       | 几厘米     | 点到点        | 低   | 近场配对/支付       |
| NB‑IoT/LTE‑M     | 运营商         | kbps–百 kbps     | 广覆盖     | 蜂窝         | 低/中 | 远距低功耗         |

## 6. 调试与编程（Debug/Program）

| 接口             | 层级      | 用途               |
| -------------- | ------- | ---------------- |
| JTAG (1149.1)  | 边界扫描/调试 | 芯片测试、在线编程        |
| SWD (ARM)      | 调试      | ARM 内核调试/烧录（2 线） |
| cJTAG (1149.7) | 调试      | 低引脚数链路           |
| UART/USB DFU   | Boot/升级 | 量产烧录/现场升级        |

## 7. 供电与数据复用（Power over Data）

| 技术                  | 功能     |            指标 | 用途        |
| ------------------- | ------ | ------------: | --------- |
| USB‑PD (Type‑C)     | 供电协商   |   ≤240 W(EPR) | 设备供电/快充   |
| PoE (802.3af/at/bt) | 网线供电   | 13/25/51–90 W | 摄像头/AP/终端 |
| PMBus/SMBus         | 数字电源管理 |             — | 电源监控/告警   |
